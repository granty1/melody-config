{"version":3,"sources":["webpack:///./src/layout/SideBarLayout.vue?e8f8","webpack:///./src/layout/SideBarLayout.vue?15ec","webpack:///src/layout/SideBarLayout.vue","webpack:///./src/layout/SideBarLayout.vue?d9e2","webpack:///./src/layout/SideBarLayout.vue","webpack:///./src/utils/config/EndpointConfig.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","myhidden","isCollapse","attrs","$route","name","myCollapse","staticClass","slot","_v","on","addEndpoint","_l","endpoint","index","key","params","url","$event","delEndpointConfirm","methodType","method","_s","easyEndpoint","staticRenderFns","endpoints","$store","getters","serviceConfig","methods","endpointConfig","EndpointConfig","commit","length","n","slice","m","undefined","$confirm","confirmButtonText","cancelButtonText","type","computed","watch","newVal","endpointCfg","handler","deep","component","constructor","output_encoding","extra_config","melody_ratelimit_router","melody_proxy","melody_jose_validator","melody_jose_signer","melody_alert","backends"],"mappings":"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","file":"js/chunk-251434ea.5afc6cbf.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBarLayout.vue?vue&type=style&index=0&id=052de3dc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBarLayout.vue?vue&type=style&index=0&id=052de3dc&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',[_c('el-aside',{class:{ myhidden: _vm.isCollapse }},[_c('el-menu',{attrs:{\"router\":\"\",\"default-active\":_vm.$route.name,\"collapse\":_vm.myCollapse}},[_c('el-menu-item',{attrs:{\"index\":\"dashboard\",\"route\":{ name: 'dashboard' }}},[_c('i',{staticClass:\"el-icon-document\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"开始\")])]),_c('el-menu-item',{attrs:{\"index\":\"service\",\"route\":{ name: 'service' }}},[_c('i',{staticClass:\"el-icon-setting\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"Service\")])]),_c('el-menu-item',{attrs:{\"index\":\"sd\",\"route\":{ name: 'sd' }}},[_c('i',{staticClass:\"el-icon-search\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"服务发现\")])]),_c('el-submenu',{attrs:{\"index\":\"safe\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-goods\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"安全选项\")])]),_c('el-menu-item',{attrs:{\"index\":\"safe\",\"route\":{ name: 'safe' }}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"el-icon-news\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"响应头配置\")])])],2)],2),_c('el-submenu',{attrs:{\"index\":\"endpoints\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-tools\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"Endpoints\")])]),_c('el-menu-item-group',[_c('span',{staticClass:\"title pointer\",on:{\"click\":_vm.addEndpoint}},[_vm._v(\"添加endpoint\")])]),_vm._l((_vm.endpoints),function(endpoint,index){return _c('el-menu-item',{key:(\"key-\" + index),attrs:{\"index\":index + '',\"route\":{ name: 'endpoints', params: { url: index } }}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.delEndpointConfirm(index)}}}),_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":_vm.methodType(endpoint.method)}},[_vm._v(\" \"+_vm._s(endpoint.method)+\" \")]),_vm._v(\" \"+_vm._s(_vm.easyEndpoint(endpoint.endpoint))+\" \")],1)],2)})],2),_c('el-menu-item',{attrs:{\"index\":\"logging\",\"route\":{ name: 'logging' }}},[_c('i',{staticClass:\"el-icon-odometer\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"日志与监控\")])]),_c('el-menu-item',{attrs:{\"index\":\"import\",\"route\":{ name: 'import' }}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"配置生成\")])])],1)],1),_c('el-main',[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-container>\n      <el-aside v-bind:class=\"{ myhidden: isCollapse }\">\n        <!-- <span class=\"myspan\"><i class=\"el-icon-menu\"></i></span> -->\n        <el-menu router :default-active=\"$route.name\" :collapse=\"myCollapse\">\n          <el-menu-item index=\"dashboard\" :route=\"{ name: 'dashboard' }\">\n            <i class=\"el-icon-document\"></i><span slot=\"title\">开始</span>\n          </el-menu-item>\n\n          <el-menu-item index=\"service\" :route=\"{ name: 'service' }\">\n            <i class=\"el-icon-setting\"></i><span slot=\"title\">Service</span>\n          </el-menu-item>\n\n          <el-menu-item index=\"sd\" :route=\"{ name: 'sd' }\">\n            <i class=\"el-icon-search\"></i><span slot=\"title\">服务发现</span>\n          </el-menu-item>\n\n          <el-submenu index=\"safe\">\n            <template slot=\"title\"\n              ><i class=\"el-icon-s-goods\"></i><span slot=\"title\">安全选项</span></template\n            >\n            <el-menu-item index=\"safe\" :route=\"{ name: 'safe' }\">\n              <template slot=\"title\">\n                <i class=\"el-icon-news\"></i><span slot=\"title\">响应头配置</span></template\n              >\n            </el-menu-item>\n          </el-submenu>\n\n          <el-submenu index=\"endpoints\">\n            <template slot=\"title\"\n              ><i class=\"el-icon-s-tools\"></i><span slot=\"title\">Endpoints</span></template\n            >\n\n            <el-menu-item-group>\n              <span class=\"title pointer\" @click=\"addEndpoint\">添加endpoint</span>\n            </el-menu-item-group>\n\n            <el-menu-item\n              v-for=\"(endpoint, index) in endpoints\"\n              :key=\"`key-${index}`\"\n              :index=\"index + ''\"\n              :route=\"{ name: 'endpoints', params: { url: index } }\"\n            >\n              <template slot=\"title\">\n                <!-- <i class=\"el-icon-odometer\"></i> -->\n                <i class=\"el-icon-delete\" @click=\"delEndpointConfirm(index)\"></i>\n                <el-tag size=\"medium\" :type=\"methodType(endpoint.method)\">\n                  {{ endpoint.method }}\n                </el-tag>\n                {{ easyEndpoint(endpoint.endpoint) }}\n                <!-- <i class=\"el-icon-delete\" style=\"margin-left:43px\" @click=\"delEndpointConfirm(index)\"></i> -->\n              </template>\n            </el-menu-item>\n          </el-submenu>\n\n          <el-menu-item index=\"logging\" :route=\"{ name: 'logging' }\">\n            <!-- <template slot=\"title\"><i class=\"el-icon-odometer\"></i><span slot=\"title\">日志与监控</span></template> -->\n            <i class=\"el-icon-odometer\"></i><span slot=\"title\">日志与监控</span>\n          </el-menu-item>\n\n          <el-menu-item index=\"import\" :route=\"{ name: 'import' }\">\n            <i class=\"el-icon-upload\"></i><span slot=\"title\">配置生成</span>\n          </el-menu-item>\n        </el-menu>\n      </el-aside>\n      <el-main>\n        <router-view />\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport EndpointConfig from '@/utils/config/EndpointConfig.js'\nexport default {\n  name: 'SideBar',\n  data() {\n    return {\n      endpoints: this.$store.getters.serviceConfig.endpoints || [],\n      isCollapse: this.$store.getters.isCollapse,\n    }\n  },\n  methods: {\n    addEndpoint() {\n      const endpointConfig = new EndpointConfig()\n      this.$store.commit('addEndpointConfig', endpointConfig)\n    },\n    methodType(method) {\n      if (method === 'GET') {\n        return 'success'\n      } else if (method === 'POST') {\n        return 'warning'\n      } else if (method === 'DELETE') {\n        return 'danger'\n      } else {\n        return 'info'\n      }\n    },\n    easyEndpoint(name) {\n      if (name.length <= 13) {\n        if (name && name.length > 0) {\n          return name\n        } else {\n          return 'none'\n        }\n      } else {\n        let n = name.slice(0, 13) + ''\n        name = n + '...'\n        return name\n      }\n    },\n    easyEndpointMethod(m) {\n      if (m && m != '' && m != undefined) {\n        return m\n      } else {\n        return 'none'\n      }\n    },\n    delEndpointConfirm(index) {\n      this.$confirm('此操作将删除该endpoint配置, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      })\n        .then(() => {\n          this.endpointCfg.splice(index, 1)\n          if (this.endpointCfg.length >= 1) {\n            let i = index % this.endpointCfg.length\n            this.$router.push({ name: 'endpoints', path: '/endpoints', params: { url: i } })\n          } else {\n            this.$router.push('/')\n          }\n\n          this.$message({\n            type: 'success',\n            message: '删除成功!',\n          })\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除',\n          })\n        })\n    },\n  },\n  computed: {\n    myCollapse() {\n      return this.$store.getters.isCollapse\n    },\n    endpointCfg() {\n      return this.$store.getters.serviceConfig.endpoints\n    },\n  },\n  watch: {\n    myCollapse: function(newVal) {\n      this.isCollapse = newVal\n    },\n    endpointCfg: {\n      handler: function(newVal) {\n        this.endpoints = newVal\n      },\n      deep: true,\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.aside {\n  border-right: solid 1px #e6e6e6;\n  height: 100%;\n}\n.el-aside {\n  border-right: solid 1px #e6e6e6;\n}\n.el-menu {\n  border-right: 0px;\n}\n\n.myspan {\n  display: block;\n  width: 40px;\n  height: 40px;\n  background-color: aqua;\n}\n\n.title {\n  display: block;\n  padding: 7px 0 7px 40px;\n  line-height: normal;\n  font-size: 12px;\n  color: #909399;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.myhidden {\n  display: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBarLayout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBarLayout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideBarLayout.vue?vue&type=template&id=052de3dc&scoped=true&\"\nimport script from \"./SideBarLayout.vue?vue&type=script&lang=js&\"\nexport * from \"./SideBarLayout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SideBarLayout.vue?vue&type=style&index=0&id=052de3dc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"052de3dc\",\n  null\n  \n)\n\nexport default component.exports","class EndpointConfig {\n  constructor() {\n    this.endpoint = '/new-endpoint'\n    this.method = 'GET'\n    this.output_encoding = 'JSON'\n    this.extra_config = {\n      melody_ratelimit_router: {},\n      melody_proxy: {},\n      melody_jose_validator: {},\n      melody_jose_signer: {},\n      melody_alert: {},\n    }\n    this.backends = []\n  }\n}\n\nexport default EndpointConfig\n"],"sourceRoot":""}